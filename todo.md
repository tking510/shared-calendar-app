# Project TODO

- [x] データベーススキーマ設計（events, tags, shared_calendars, reminders, telegram_settings）
- [x] tRPC APIエンドポイント実装
- [x] カレンダーホーム画面UI
- [x] 予定作成/編集画面
- [x] 予定詳細画面
- [x] タグ管理機能
- [x] 共有カレンダー機能
- [x] Telegram Bot連携設定画面
- [x] リマインダー通知機能（Telegram経由）
- [x] アプリロゴ生成
- [x] テーマカラー設定

## 追加機能（v2）

- [x] 人・部署のタグ付け用データベーステーブル追加
- [x] 人・部署のタグ付けAPI実装
- [x] 繰り返し予定のカレンダー表示機能
- [x] 予定作成/編集画面に人・部署のタグ付けUI追加
- [x] 設定画面に人・部署の管理機能追加

## 追加機能（v3）

- [x] TelegramスレッドID（トピックID）フィールドをデータベースに追加
- [x] Telegram設定APIにスレッドIDを追加
- [x] 設定画面にスレッドID入力フィールドを追加
- [x] リマインダー通知でスレッドIDを使用

## バグ修正

- [x] Telegramテスト通知が届かない問題を修正

## 追加機能（v4）

- [x] 予定の開始時間・終了時間設定機能
- [x] 友達テーブル追加（Telegramアカウント連携）
- [x] Admin認証機能（ID: admin, パスワード: Sloten1234）
- [x] 部署管理の権限分離（Adminのみ管理、一般ユーザーは選択のみ）
- [x] ユーザーの部署選択機能（複数可）
- [x] 友達へのTelegram通知機能
- [x] カスタムメッセージアラート機能
- [x] 予定作成画面に友達タグ付けUI追加
- [x] 設定画面に友達管理機能追加

## 追加機能（v5）

- [x] Telegram Bot Webhook APIの実装
- [x] Telegramからの友達登録機能
- [x] PC対応のレスポンシブデザイン（カレンダー画面）
- [x] PC対応のレスポンシブデザイン（設定画面）
- [x] PC対応のレスポンシブデザイン（予定作成画面）

## デプロイ（v6）

- [x] GitHubリポジトリの作成
- [x] コードのプッシュ
- [x] デプロイ設定ファイルの準備
- [x] デプロイ手順ドキュメントの作成

## バグ修正（v7）

- [x] ログイン機能をシンプルな認証に変更（OAuth不要、ID/パスワードのみ）
- [x] Telegram Webhookエンドポイントの修正（Cannot GET エラー解決）
- [x] GitHubにプッシュしてVercel/Railwayを更新
- [x] Web版でlocalStorageからセッショントークンを取得するように修正

## バグ修正（v7.2）

- [x] ログインができない問題を修正
- [x] 登録ができない問題を修正
- [x] RailwayのJWT_SECRET環境変数設定
- [x] RailwayのMySQLデータベースにテーブル作成

## バグ修正（v7.3）

- [x] 予定を作成しても反映されない問題を修正（ページリロードで表示される）
- [x] 予定の時間指定ができない問題を修正（Web版用の時間選択Pickerを追加）

## バグ修正（v7.4）

- [x] 予定編集画面が真っ白になる問題を修正

## バグ修正（v7.5）

- [x] 時間設定をPC時間（ローカル時間）に合わせるように修正

## バグ修正（v7.6）

- [x] 予定の保存が機能しない問題を修正（キャッシュ無効化の追加で解決）

## バグ修正（v7.7）

- [x] 共有カレンダー詳細ページのルーティングエラーを修正（/calendar/[id]）
- [x] 予定削除ボタンのWeb版での動作確認（削除確認ページを作成して解決）
- [x] React Native for Webのスタイル配列問題を修正

## バグ修正（v7.8）

- [ ] 設定画面に自分のTelegramアカウント設定機能を追加
- [ ] Telegram Webhookの日付解析エラーを修正（「完了」メッセージの誤解析防止）
- [ ] 予定のタグ付けアラート機能の確認

## バグ修正・改善（v7.9）

- [x] 予定編集が反映されない問題を修正（友達・部署の初期化追加）
- [x] UIデザインをスタイリッシュに改善（コーラル/サーモン色テーマ）
- [x] 個人Telegram通知機能を追加（設定画面に個人Telegram Chat ID設定）

## バグ修正（v7.10）

- [x] 一度予定を入れた後に別の日の予定を入れられない問題を修正（キャッシュ無効化追加）

## バグ修正（v7.11）

- [x] Vercelデプロイ版で予定が反映されない問題を修正（Railway DBにtelegramChatIdカラム追加）

## 改善（v7.12）

- [x] 予定作成画面から「終日」オプションを削除
- [x] 予定編集画面から「終日」オプションを削除

## バグ修正（v7.13）

- [x] 共有カレンダーで他のユーザーが予定を見れない問題を修正
- [x] 共有カレンダー詳細画面に「予定を追加」ボタンを追加
- [x] 予定作成時にcalendarIdを渡せるように修正

## ドキュメント作成（v7.14）

- [x] 共有カレンダーアプリの使用マニュアルを作成
- [x] スクリーンショット付きスライド形式マニュアルを作成

## 改善（v7.15）

- [x] アプリの時間表示をマレーシア時間（GMT+8）に変更
- [x] Telegram通知の時間もマレーシア時間に変更

## バグ修正（v7.16）

- [x] 予定の保存ができなくなった問題を修正
- [x] Vercel本番環境で予定編集ができない問題を修正（ローディングが無限に続く問題を修正）
- [ ] テスト通知が飛ばない問題を修正
- [ ] 個人T elegram通知が設定できない問題を修正
- [x] リマインダー通知の時間がずれている問題を修正（マレーシア時間に対応）
- [x] 時間が勝手に変わる問題を修正（タイムゾーン変換を削除してローカル時間をそのまま表示）
- [x] 予定が作成できない問題を修正（上記の時間問題の修正で解決）

## 緑正作業

- [x] v7.18に戻して時間表示を正しく修正

## バグ修正（v7.19）

- [x] 予定編集時に時間がずれる問題を修正（GMT+8対応）

## バグ修正（v7.20）

- [x] カレンダー画面で予定が間違った日付に表示される問題を修正（13日の予定が14日に表示される）

## バグ修正（v7.21）

- [x] 予定作成・編集時にマレーシア時間のオフセット（+08:00）を付加して送信するように修正

## バグ修正（v7.22）

- [ ] Telegram Webhookから「日付エラー」メッセージが繰り返し送信される問題を修正
- [x] メインカレンダー画面に共有カレンダーの予定も表示するように修正

## バグ修正（v7.23）

- [x] 時間表示のずれを修正（21:45で作成したのに13:45と表示される）
- [x] 全ユーザーが全ての予定を共有できるように変更（個人/共有の区別をなくす）
